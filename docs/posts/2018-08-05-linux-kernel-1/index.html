<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Dialogues on linux kernel-1 - Blog Test</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Architecture of Linux kernel {:class=&ldquo;img-responsive&rdquo;}
Before We start This series is neither totally theoritical nor totally hands-on. It is amalgammation of both. Just the way I think. You will not become expert which should be implied.
Adding a new module in linux kernel So linux kernel is a monolithic kernel. To be accurate it is Modular monolithic. Monolithic term in kernal is used in the sense of permission of code running there." />
	<meta property="og:image" content="img/calvin-hobbes.png"/>
	<meta property="og:title" content="Dialogues on linux kernel-1" />
<meta property="og:description" content="Architecture of Linux kernel {:class=&ldquo;img-responsive&rdquo;}
Before We start This series is neither totally theoritical nor totally hands-on. It is amalgammation of both. Just the way I think. You will not become expert which should be implied.
Adding a new module in linux kernel So linux kernel is a monolithic kernel. To be accurate it is Modular monolithic. Monolithic term in kernal is used in the sense of permission of code running there." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rava-dosa.github.io/arm/posts/2018-08-05-linux-kernel-1/" /><meta property="article:section" content="posts" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Dialogues on linux kernel-1"/>
<meta name="twitter:description" content="Architecture of Linux kernel {:class=&ldquo;img-responsive&rdquo;}
Before We start This series is neither totally theoritical nor totally hands-on. It is amalgammation of both. Just the way I think. You will not become expert which should be implied.
Adding a new module in linux kernel So linux kernel is a monolithic kernel. To be accurate it is Modular monolithic. Monolithic term in kernal is used in the sense of permission of code running there."/>
<script src="https://rava-dosa.github.io/arm/js/feather.min.js"></script>
	
	
        <link href="https://rava-dosa.github.io/arm/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://rava-dosa.github.io/arm/css/main.2f9b5946627215dc1ae7fa5f82bfc9cfcab000329136befeea5733f21e77d68f.css" />
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://rava-dosa.github.io/arm/">Blog Test</a>
	</div>
	<nav>
		
		<a href="/arm/posts">All posts</a>
		
		<a href="/arm/til">TIL</a>
		
		<a href="/arm/tags">Tags</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Dialogues on linux kernel-1</h1>
			<div class="meta">Posted on Jan 1, 0001</div>
		</div>
		

		<section class="body">
			<h3 id="architecture-of-linux-kernel">Architecture of Linux kernel</h3>
<p><img src="https://i.pinimg.com/originals/a4/76/e5/a476e5ac785fa192712b24316bfaf3c3.gif" alt="Linux-Architecture">{:class=&ldquo;img-responsive&rdquo;}</p>
<h3 id="before-we-start">Before We start</h3>
<p>This series is neither totally theoritical nor totally hands-on. It is amalgammation of both. Just the way I think. You will not become expert which should be implied.</p>
<h3 id="adding-a-new-module-in-linux-kernel">Adding a new module in linux kernel</h3>
<p>So linux kernel is a monolithic kernel. To be accurate it is Modular monolithic. Monolithic term in kernal is used in the sense of permission of code running there. If the whole kernel is running in <strong>ring 0</strong> then the kernel will be called monoltihic. But if very few code is running in ring 0 then the kernel is called micro kernel architecture.<br>
So if a module crashes the whole kernel will crash in linux. So always spawn a VM if you are trying to add garbage in linux.</p>
<h4 id="hello-world">Hello World</h4>
<h5 id="file-name---hello-1c">file-name -&gt; hello-1.c</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">#include &lt;linux/module.h&gt;
#include &lt;linux/kernel.h&gt;    

int init_module(void)
{
    printk(KERN_INFO &#34;Hello world 1.\n&#34;);
    return 0;
}

void cleanup_module(void)
{
    printk(KERN_INFO &#34;Goodbye world 1.\n&#34;);
}  

</code></pre></div><p>To compile this code you can use <a href="https://github.com/rava-dosa/linux/tree/master/Linux-Hello%20world">makefile</a> provided in this repo with proper naming as it is in the repository.<br>
If you have done everything right till date then try</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">insmod ./hello-1.ko
</code></pre></div><p>Now you can check hello world being printed in /var/log/kern.log.<br>
To check do cat /var/log/kern.log.<br>
That&rsquo;s all folks.</p>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/arm/tags/tutorial">tutorial</a></li>
					
					<li><a href="/arm/tags/software">software</a></li>
					
					<li><a href="/arm/tags/linux">linux</a></li>
					
					<li><a href="/arm/tags/kernel">kernel</a></li>
					
					<li><a href="/arm/tags/os">os</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
</main>
<footer>
<hr><a class="soc" href="https://github.com/rava-dosa" title="GitHub"><i data-feather="github"></i></a>|<a class="soc" href="https://twitter.com/rava_dosa" title="Twitter"><i data-feather="twitter"></i></a>|⚡️
	2022  <a href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
</footer>


<script>
      feather.replace()
</script></div>
    </body>
</html>
